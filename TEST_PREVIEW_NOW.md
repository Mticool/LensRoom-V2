# üß™ –¢–µ—Å—Ç –°–∏—Å—Ç–µ–º—ã –ü—Ä–µ–≤—å—é - –ü—Ä—è–º–æ –°–µ–π—á–∞—Å

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–µ–≤—å—é —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –ù–û–í–´–• –≥–µ–Ω–µ—Ä–∞—Ü–∏–π!

**–°—Ç–∞—Ä—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –î–û –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)** - –Ω–µ –±—É–¥—É—Ç –∏–º–µ—Ç—å –ø—Ä–µ–≤—å—é.  
**–ù–æ–≤—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ü–û–°–õ–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)** - –±—É–¥—É—Ç –∏–º–µ—Ç—å –ø—Ä–µ–≤—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## üéØ –ü–æ—à–∞–≥–æ–≤—ã–π –¢–µ—Å—Ç

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
üëâ http://localhost:3002/create/studio

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –ù–û–í–û–ï —Ñ–æ—Ç–æ
1. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å (–ª—é–±—É—é)
2. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç: "A beautiful sunset over mountains"
3. –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (~30-60 —Å–µ–∫)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Library
üëâ http://localhost:3002/library

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
- ‚úÖ –ü–ª–∏—Ç–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–≤—å—é (webp, 512px)
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ
- ‚úÖ –ö–∞—Ä—Ç–∏–Ω–∫–∞ —á—ë—Ç–∫–∞—è

### –®–∞–≥ 4: –°–æ–∑–¥–∞–π—Ç–µ –ù–û–í–û–ï –≤–∏–¥–µ–æ
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–í–∏–¥–µ–æ"
2. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å
3. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç: "Ocean waves crashing on beach"
4. –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (~2-5 –º–∏–Ω)

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å—Ç–µ—Ä –≤ Library
üëâ http://localhost:3002/library

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
- ‚úÖ –ü–ª–∏—Ç–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å—Ç–µ—Ä-–ö–ê–†–¢–ò–ù–ö–£ (–Ω–µ –≤–∏–¥–µ–æ —ç–ª–µ–º–µ–Ω—Ç!)
- ‚úÖ –ü–æ—Å—Ç–µ—Ä —ç—Ç–æ –∫–∞–¥—Ä –∏–∑ 1-–π —Å–µ–∫—É–Ω–¥—ã –≤–∏–¥–µ–æ
- ‚úÖ –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–∏–¥–µ–æ –ø–ª–µ–µ—Ä

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞ –ü—Ä–µ–≤—å—é

### –í –ö–æ–Ω—Å–æ–ª–∏ –ë—Ä–∞—É–∑–µ—Ä–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3002/library
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Network
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
5. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `/api/generations?limit=24`
6. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ Response

**–î–ª—è –ù–û–í–´–• –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```json
{
  "generations": [
    {
      "id": "...",
      "type": "photo",
      "preview_path": "userId/previews/id_preview.webp",
      "preview_status": "ready"
    }
  ]
}
```

### –í Supabase Dashboard:
```sql
-- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
SELECT 
  id,
  type,
  status,
  preview_path,
  poster_path,
  preview_status,
  created_at
FROM public.generations
ORDER BY created_at DESC
LIMIT 5;
```

**–î–ª—è –Ω–æ–≤—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π:**
- `preview_status` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `'ready'` (–∏–ª–∏ `'processing'` –µ—Å–ª–∏ –µ—â—ë –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
- `preview_path` (–¥–ª—è —Ñ–æ—Ç–æ) –∏–ª–∏ `poster_path` (–¥–ª—è –≤–∏–¥–µ–æ) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω

---

## üêõ –ï—Å–ª–∏ –ü—Ä–µ–≤—å—é –ù–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–π—Ç–µ –ù–û–í–£–Æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (–ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

### –ü—Ä–æ–±–ª–µ–º–∞ 2: preview_status = 'processing'
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ–≤—å—é –µ—â—ë –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –≤–∏–¥–µ–æ, –¥–æ 15 —Å–µ–∫)
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –ü—Ä–æ–±–ª–µ–º–∞ 3: preview_status = 'failed'
**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–≤—å—é
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä
# –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å [Preview]
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: preview_status = 'none'
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ–≤—å—é –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å
**–í–æ–∑–º–æ–∂–Ω–æ:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞
- –ò–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (status != 'success')

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –õ–æ–≥–æ–≤

### –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≥–¥–µ –∑–∞–ø—É—â–µ–Ω Next.js:

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
```
[Preview] Photo preview generated: { generationId: '...', path: '...' }
# –∏–ª–∏
[Preview] Video poster generated: { generationId: '...', path: '...' }
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:
```
[Preview] Generation failed: { generationId: '...', error: '...' }
```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ —Å:
- FFmpeg (–¥–ª—è –≤–∏–¥–µ–æ)
- Sharp (–¥–ª—è —Ñ–æ—Ç–æ)
- Supabase Storage (–∑–∞–≥—Ä—É–∑–∫–∞)
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ü—Ä–æ–≤–µ—Ä–∫–∏

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é:

- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (http://localhost:3002 —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è 025 –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –≤ Supabase
- [ ] FFmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`ffmpeg -version` —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (npm install –≤—ã–ø–æ–ª–Ω–µ–Ω)
- [ ] Build —É—Å–ø–µ—à–µ–Ω (npm run build –ø—Ä–æ—à—ë–ª)

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ (status = 'success')
- [ ] –í –ë–î –ø–æ—è–≤–∏–ª–æ—Å—å preview_path –∏–ª–∏ poster_path
- [ ] preview_status = 'ready'
- [ ] –í Library –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–≤—å—é/–ø–æ—Å—Ç–µ—Ä

---

## üÜò –ï—Å–ª–∏ –ù–∏—á–µ–≥–æ –ù–µ –ü–æ–º–æ–≥–∞–µ—Ç

### –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

```sql
-- –í Supabase Dashboard
SELECT *
FROM public.generations
WHERE id = 'YOUR_GENERATION_ID';
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–ª—Å—è –≤ Storage:

1. Supabase Dashboard > Storage > generations bucket
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É `{userId}/previews/` (–¥–ª—è —Ñ–æ—Ç–æ)
3. –ò–ª–∏ `{userId}/posters/` (–¥–ª—è –≤–∏–¥–µ–æ)
4. –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–º

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
kill $(lsof -ti :3002)

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
cd /Users/maratsagimov/Desktop/LensRoom.V2/lensroom-v2
npm run start
```

---

## üéØ –ò—Ç–æ–≥

**–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–µ–≤—å—é:**
1. –°–æ–∑–¥–∞–π—Ç–µ –ù–û–í–£–Æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (–Ω–µ —Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ!)
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Library
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏/–ë–î –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫

**–ü—Ä–µ–≤—å—é –ù–ï —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**


