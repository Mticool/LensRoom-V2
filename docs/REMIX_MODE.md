# –†–µ–∂–∏–º Remix / –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∂–∏–º **Remix** –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ AI –ø—Ä–æ–º–ø—Ç—ã (Image-to-Image –≥–µ–Ω–µ—Ä–∞—Ü–∏—è).  
–§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ [Syntx.ai](https://syntx.ai/) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∂–µ–ª–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **ImageUploader Component** (`components/generator-v2/ImageUploader.tsx`)

**–î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:**
- **`compact`** - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥ –¥–ª—è —Å–∞–π–¥–±–∞—Ä–∞ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
- **`prominent`** - –±–æ–ª—å—à–æ–π –∑–∞–º–µ—Ç–Ω—ã–π –±–ª–æ–∫ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ Canvas (–Ω–æ–≤–æ–µ)

**–§—É–Ω–∫—Ü–∏–∏:**
- Drag & Drop –∑–∞–≥—Ä—É–∑–∫–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ (JPG, PNG, WEBP)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ (–¥–æ 10MB)
- –ü—Ä–µ–≤—å—é —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—ã/—É–¥–∞–ª–µ–Ω–∏—è
- –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏

### 2. **–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π Canvas** (`components/generator-v2/Canvas.tsx`)

**Empty State –ª–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ **–Ω–µ—Ç —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞** ‚Üí –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º T2I/T2V —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
- –ï—Å–ª–∏ **–µ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å** ‚Üí Remix —Ä–µ–∂–∏–º —Å:
  - –ë–µ–π–¥–∂ "Remix —Ä–µ–∂–∏–º"
  - –ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü–æ–¥—Å–∫–∞–∑–∫–∞ "–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å"

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Remix:**
- –§–æ—Ç–æ: "–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–æ–Ω–æ–≤–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ", "–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –∫–∏–±–µ—Ä–ø–∞–Ω–∫ —Å—Ç–∏–ª—å", "–î–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç—ã", "–°–¥–µ–ª–∞—Ç—å –≤ —Å—Ç–∏–ª–µ –∞–Ω–∏–º–µ"
- –í–∏–¥–µ–æ: "–î–æ–±–∞–≤–∏—Ç—å –¥–æ–∂–¥—å –∏ –≥—Ä–æ–∑—É", "–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –Ω–æ—á–Ω—É—é —Å—Ü–µ–Ω—É", "–î–æ–±–∞–≤–∏—Ç—å —Å–Ω–µ–≥"

### 3. **–ö–Ω–æ–ø–∫–∞ Remix –≤ —Ö–µ–¥–µ—Ä–µ** (`GeneratorV2.tsx`)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ "–°—Ç–∏–ª–∏" –∏ "Upscale"

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- **–ö–ª–∏–∫ –±–µ–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
- **–ö–ª–∏–∫ —Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–º** ‚Üí toggle —Ä–µ–∂–∏–º–∞ (–≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å)
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è:** –∫–Ω–æ–ø–∫–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- `OFF`: —Å–µ—Ä–∞—è –∫–Ω–æ–ø–∫–∞ "Remix"
- `ON`: —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ "Remix ON" —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π

### 4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SettingsPanel**

–ó–∞–º–µ–Ω–∏–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
```typescript
<ImageUploader
  value={referenceImage}
  onChange={onReferenceImageChange}
  mode="compact"
/>
```

## üîå API –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π):

‚úÖ **API —ç–Ω–¥–ø–æ–∏–Ω—Ç:** `/api/generate/photo`  
‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä:** `referenceImage` (base64 dataURL)  
‚úÖ **–†–µ–∂–∏–º:** `mode: 'i2i'` (image-to-image)  
‚úÖ **–ú–æ–¥–µ–ª–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π i2i:**
- FLUX.2 (`supportsI2i: true`)
- Seedream 4.5 (`supportsI2i: true`)
- –î—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É –≤ `models.ts`

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```typescript
// –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
POST /api/generate/photo
{
  "model": "flux-2",
  "prompt": "–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–æ–Ω–æ–≤–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –≤ –∫–∏–±–µ—Ä–ø–∞–Ω–∫ —Å—Ç–∏–ª–µ",
  "mode": "i2i",
  "referenceImage": "data:image/png;base64,...",
  "quality": "1k",
  "aspectRatio": "1:1"
}
```

**Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É `supportsI2i` —É –º–æ–¥–µ–ª–∏
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –≤ KIE API
3. –°–ø–∏—Å—ã–≤–∞–µ—Ç –∫—Ä–µ–¥–∏—Ç—ã –ø–æ –æ–±—ã—á–Ω–æ–π —Å—Ö–µ–º–µ
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `generations`

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ò–∑–º–µ–Ω–µ–Ω–∏–π –ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è!** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ `generations`:
- `type: 'photo'`
- `model_id: 'flux-2'` (–∏–ª–∏ –¥—Ä—É–≥–∞—è i2i –º–æ–¥–µ–ª—å)
- `prompt: "user remix prompt"`
- `result_urls: [...]`
- `preview_url: "..."`

## üé® UX Flow

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–ø–µ—Ä–≤—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Remix

1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ñ–æ—Ç–æ
2. –í–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É "Remix" –≤ —Ö–µ–¥–µ—Ä–µ
3. –ù–∞–∂–∏–º–∞–µ—Ç ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª–æ–≤—ã–π –¥–∏–∞–ª–æ–≥
4. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
5. Canvas –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ Remix —Ä–µ–∂–∏–º
6. –í–∏–¥–∏—Ç –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è + –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤
7. –ü–∏—à–µ—Ç –ø—Ä–æ–º–ø—Ç "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–∫–∞—Ç –Ω–∞ —Ñ–æ–Ω–µ"
8. –ù–∞–∂–∏–º–∞–µ—Ç Generate
9. –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Toggle —Ä–µ–∂–∏–º–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∑–∏–ª —Ä–µ—Ñ–µ—Ä–µ–Ω—Å (–∫–Ω–æ–ø–∫–∞ "Remix ON")
2. –•–æ—á–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ–±—ã—á–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
3. –ù–∞–∂–∏–º–∞–µ—Ç "Remix ON" ‚Üí —Ä–µ—Ñ–µ—Ä–µ–Ω—Å —É–¥–∞–ª—è–µ—Ç—Å—è
4. Canvas –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º T2I

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ß–µ—Ä–µ–∑ —Å–∞–π–¥–±–∞—Ä

1. –í—ã–±–∏—Ä–∞–µ—Ç –º–æ–¥–µ–ª—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π i2i (FLUX.2, Seedream)
2. –í —Å–∞–π–¥–±–∞—Ä–µ –≤–∏–¥–∏—Ç —Å–µ–∫—Ü–∏—é "–†–µ—Ñ–µ—Ä–µ–Ω—Å"
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (compact mode)
4. –ü–∏—à–µ—Ç –ø—Ä–æ–º–ø—Ç ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/components/generator-v2/
  ‚îú‚îÄ‚îÄ ImageUploader.tsx       ‚Üê –ù–û–í–´–ô –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  ‚îú‚îÄ‚îÄ Canvas.tsx              ‚Üê –û–±–Ω–æ–≤–ª—ë–Ω (Remix UI)
  ‚îú‚îÄ‚îÄ GeneratorV2.tsx         ‚Üê –û–±–Ω–æ–≤–ª—ë–Ω (–∫–Ω–æ–ø–∫–∞ Remix)
  ‚îî‚îÄ‚îÄ SettingsPanel.tsx       ‚Üê –û–±–Ω–æ–≤–ª—ë–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç ImageUploader)
```

### –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- ‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞)
- ‚ùå API routes (—É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç `referenceImage`)
- ‚ùå Pricing —Å–∏—Å—Ç–µ–º–∞ (—Ü–µ–Ω–∞ –ø–æ –º–æ–¥–µ–ª–∏, –∫–∞–∫ –æ–±—ã—á–Ω–æ)
- ‚ùå Authentication (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞)

## üöÄ –î–µ–ø–ª–æ–π

**–ù–∏–∫–∞–∫–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!**

1. –ü—É—à –∫–æ–¥–∞
2. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç
3. –§—É–Ω–∫—Ü–∏—è —Å—Ä–∞–∑—É —Ä–∞–±–æ—Ç–∞–µ—Ç

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Drag & Drop
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É
3. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (–Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø, —Ä–∞–∑–º–µ—Ä > 10MB)
4. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
5. ‚úÖ –ó–∞–º–µ–Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
6. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–º (i2i)
7. ‚úÖ Toggle –∫–Ω–æ–ø–∫–∏ Remix
8. ‚úÖ –†–∞–±–æ—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (responsive)

### –ú–æ–¥–µ–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∞:

- **FLUX.2** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, 3 –∑–≤–µ–∑–¥—ã)
- **Seedream 4.5** (2 –∑–≤–µ–∑–¥—ã)

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

‚úÖ Desktop: –∫–Ω–æ–ø–∫–∞ "Remix" –≤–∏–¥–Ω–∞ —Å —Ç–µ–∫—Å—Ç–æ–º  
‚úÖ Tablet: –∫–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞, —Ç–µ–∫—Å—Ç —Å–∫—Ä—ã—Ç  
‚úÖ Mobile: –∫–Ω–æ–ø–∫–∞ —á–µ—Ä–µ–∑ Settings panel  

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

1. **Strength slider** - —Å–∏–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (0-100%)
2. **Before/After —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ** - —Å–ª–∞–π–¥–µ—Ä –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
3. **–ò—Å—Ç–æ—Ä–∏—è —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Å–ª–µ–¥–Ω–∏–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º
4. **Video Remix (i2v)** - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –≤–∏–¥–µ–æ –º–æ–¥–µ–ª–µ–π

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `/src/config/models.ts` - –∫–æ–Ω—Ñ–∏–≥ –º–æ–¥–µ–ª–µ–π —Å —Ñ–ª–∞–≥–æ–º `supportsI2i`
- `/src/app/api/generate/photo/route.ts` - API –¥–ª—è i2i –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `/src/lib/api/kie-client.ts` - –∫–ª–∏–µ–Ω—Ç –¥–ª—è KIE API

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 2025-01-09  
**–í–µ—Ä—Å–∏—è:** 1.0

