# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ - –ù–ï–¢ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤:

1. **useEffect —Ö—É–∫–∏** - –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ, –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–∑–æ–≤–æ–≤ `handleGenerate` –∏–ª–∏ `onGenerate`
2. **–§–æ—Ä–º—ã** - –Ω–µ—Ç —Ñ–æ—Ä–º, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ submit
3. **–ö–Ω–æ–ø–∫–∏** - –≤—Å–µ –∏–º–µ—é—Ç `type="button"`, –Ω–µ submit
4. **PromptInput** - –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `Ctrl/Cmd + Enter`

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

**–§–∞–π–ª**: `lensroom-v2/src/components/generator-v2/GeneratorBottomSheet.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞**: Enter –≤ textarea –∑–∞–ø—É—Å–∫–∞–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–∞–∂–µ –µ—Å–ª–∏ `canGenerate = false`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```tsx
// –ë—ã–ª–æ:
onKeyDown={(e) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    handleSubmit();
  }
}}

// –°—Ç–∞–ª–æ:
onKeyDown={(e) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    // Only submit if can generate (prevents accidental triggers)
    if (canGenerate && !isGenerating) {
      handleSubmit();
    }
  }
}}
```

### ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏–∏:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û**:
   - –ü–æ –∫–ª–∏–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å"
   - –ü–æ `Ctrl/Cmd + Enter` –≤ PromptInput (desktop)
   - –ü–æ `Enter` –≤ GeneratorBottomSheet (mobile), –Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `canGenerate = true`

2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**:
   - –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–º–ø—Ç–∞
   - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (quality, aspect ratio, etc.)
   - –ü—Ä–∏ —Å–ª—É—á–∞–π–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏ Enter –±–µ–∑ —É—Å–ª–æ–≤–∏–π

3. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º**:
   - `canGenerate` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º
   - `isGenerating` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ
   - –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è (–ø—Ä–æ–º–ø—Ç, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∫—Ä–µ–¥–∏—Ç—ã)

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫:

```tsx
const handleSubmit = () => {
  if (!canGenerate) {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –Ω–æ –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
    if (!prompt.trim()) toast.error("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç");
    else toast.error("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤—ë–∑–¥");
    return;
  }
  onGenerate(); // –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ canGenerate = true
};
```

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ Enter –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø–æ —è–≤–Ω–æ–º—É –¥–µ–π—Å—Ç–≤–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

**–ì–æ—Ç–æ–≤–æ! –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.** ‚úÖ
