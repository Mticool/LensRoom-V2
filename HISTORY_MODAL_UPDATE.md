# –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

## üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –æ–Ω–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª–∏—Å—å –≤ –ø–æ–ª–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ, —á—Ç–æ –¥–µ–ª–∞–ª–æ –∏—Ö –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ—É–¥–æ–±–Ω—ã–º.

### –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏:

#### ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∏–¥–µ–æ** (`/create/video`)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø—Ä–µ–≤—å—é –≤–∏–¥–µ–æ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –í–∏–¥–µ–æ–ø–ª–µ–µ—Ä —Å –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ö–Ω–æ–ø–∫–∏: –°–∫–∞—á–∞—Ç—å, –ü–æ–¥–µ–ª–∏—Ç—å—Å—è, –ó–∞–∫—Ä—ã—Ç—å

#### ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–æ—Ç–æ** (`/create`)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–æ—Ç–æ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ö–Ω–æ–ø–∫–∏: –†–µ—Ñ–µ—Ä–µ–Ω—Å, –°–∫–∞—á–∞—Ç—å, –ü–æ–¥–µ–ª–∏—Ç—å—Å—è, –ó–∞–∫—Ä—ã—Ç—å

---

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### 1. –ü–∞—Ä—Å–∏–Ω–≥ `result_urls` –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç JSON –∏–∑ –ë–î
let videoUrl = item.url;
if (!videoUrl && item.result_urls) {
  try {
    const urls = typeof item.result_urls === 'string' 
      ? JSON.parse(item.result_urls) 
      : item.result_urls;
    videoUrl = Array.isArray(urls) ? urls[0] : urls;
  } catch (e) {
    console.error('Error parsing result_urls:', e);
  }
}
```

### 2. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞
–ù–∞ –ø—Ä–µ–≤—å—é –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å:
- ‚úì ‚Äî `completed` (–≥–æ—Ç–æ–≤–æ)
- ... ‚Äî `processing` (–≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ)
- ‚è± ‚Äî `pending` (–≤ –æ—á–µ—Ä–µ–¥–∏)

### 3. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–∏–¥–µ–æ
```typescript
{videoModalOpen && selectedVideo && (
  <div className="fixed inset-0 bg-black/90 z-50 ...">
    <video src={selectedVideo.url} controls autoPlay />
    {/* Info & Actions */}
  </div>
)}
```

### 4. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ
```typescript
{imageModalOpen && selectedImage && (
  <div className="fixed inset-0 bg-black/90 z-50 ...">
    <img src={selectedImage.url} className="max-h-[80vh]" />
    {/* Info & Actions */}
  </div>
)}
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –≤–∏–¥–µ–æ:
1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://lensroom.ru/create/video
2. –ü–æ—Å–º–æ—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª "–ò—Å—Ç–æ—Ä–∏—è" –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏
3. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –ª—é–±–æ–µ –≤–∏–¥–µ–æ ‚Üí –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
4. –î–æ—Å—Ç—É–ø–Ω—ã –∫–Ω–æ–ø–∫–∏: –°–∫–∞—á–∞—Ç—å, –ü–æ–¥–µ–ª–∏—Ç—å—Å—è

### –î–ª—è —Ñ–æ—Ç–æ:
1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://lensroom.ru/create
2. –ü–æ—Å–º–æ—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª "–ò—Å—Ç–æ—Ä–∏—è" –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏
3. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –ª—é–±–æ–µ —Ñ–æ—Ç–æ ‚Üí –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
4. –î–æ—Å—Ç—É–ø–Ω—ã –∫–Ω–æ–ø–∫–∏: –†–µ—Ñ–µ—Ä–µ–Ω—Å, –°–∫–∞—á–∞—Ç—å, –ü–æ–¥–µ–ª–∏—Ç—å—Å—è

---

## üîç Debugging

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏
–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è:
```
[Video History] Clicked: { id, url, status, ... }
[Photo History] Clicked: { id, url, status, ... }
```

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑ –ë–î.

### –ï—Å–ª–∏ –≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ª–æ–≥–∏
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ `result_urls` –≤ –ë–î —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π JSON
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ –∏—Å—Ç–µ–∫ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ñ–∞–π–ª–∞)

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î

–û–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `generations` —Å–æ–¥–µ—Ä–∂–∏—Ç:

```sql
{
  "id": "uuid",
  "user_id": "uuid",
  "type": "video" | "photo",
  "model_id": "string",
  "model_name": "string",
  "prompt": "string",
  "result_urls": "['https://...']" –∏–ª–∏ ["https://..."],
  "status": "completed" | "processing" | "pending" | "failed",
  "credits_used": 100,
  "created_at": "timestamp",
  "completed_at": "timestamp"
}
```

---

## ‚ú® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **Fallback –¥–ª—è –ø—Ä–µ–≤—å—é**: –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–µ–≤—å—é –≤–∏–¥–µ–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏**: –ö–ª–∏–∫ –Ω–∞ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" –∫–æ–ø–∏—Ä—É–µ—Ç URL –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
3. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞
4. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–µ–ª—å, –ø—Ä–æ–º–ø—Ç, –¥–∞—Ç–∞, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 15 –¥–µ–∫–∞–±—Ä—è 2025, 20:15
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ production
**URL**: https://lensroom.ru
