# Мобильный генератор изображений LensRoom

## Обзор

Полнофункциональный мобильный интерфейс для генерации изображений с AI моделями, вдохновленный дизайном Higgsfield AI.

## Созданные компоненты

### 1. ImageGenerator (`src/components/mobile/ImageGenerator.tsx`)
Основной компонент генератора изображений со следующим функционалом:

- **Выбор модели**: Полный список доступных AI моделей для генерации изображений
- **Загрузка изображения**: Поддержка Image-to-Image для моделей
- **Промпт**: Текстовое описание желаемого результата
- **Настройки качества**: Выбор разрешения (1K, 2K, 4K и т.д.)
- **Соотношения сторон**: 1:1, 16:9, 9:16, 4:3 и другие
- **Счетчик генераций**: От 1 до 4 изображений за раз
- **Расчет стоимости**: Автоматический подсчет кредитов

### 2. ModelSelectorSheet (`src/components/mobile/ModelSelectorSheet.tsx`)
Выдвижная панель выбора модели:

- Список всех доступных моделей для генерации изображений
- Подробное описание каждой модели
- Индикаторы скорости и качества
- Отображение минимальной стоимости
- Визуальное выделение выбранной модели

### 3. ImageUploadButton (`src/components/mobile/ImageUploadButton.tsx`)
Компонент загрузки изображений:

- Поддержка форматов: PNG, JPG, WebP
- Максимальный размер: 10MB
- Валидация типа и размера файла
- Превью загруженного изображения

## Новые модели

Добавлена модель **Soul** из скриншотов Higgsfield:
- Ultra-realistic fashion visuals
- Идеально для fashion-фотографии и портретов
- Поддержка Image-to-Image
- Стоимость: 20 кредитов

## Маршруты

- `/create/image` - Страница генератора изображений
- `/create/image?model=nano-banana-pro` - Открыть с конкретной моделью

## Интеграция

### MobileShowcase
Обновлена кнопка "Создать фото" для перехода на новый генератор.

### ModelCard
Карточки моделей теперь автоматически открывают:
- Фото-модели → `/create/image`
- Видео-модели → `/create/studio`

## UI/UX особенности

### Дизайн по образцу Higgsfield AI:
1. **Хедер**
   - Кнопка назад
   - Заголовок "Создать фото"
   - Баланс кредитов

2. **Выбор модели**
   - Большая кнопка с иконкой модели
   - Название и бейдж TOP для популярных

3. **Превью стиля**
   - Соотношение 16:9
   - Показ загруженного изображения или плейсхолдера
   - Кнопка "Изменить" в углу

4. **Настройки**
   - Промпт (textarea)
   - Соотношение сторон (кнопки-чипсы)
   - Качество (с ценой для каждого варианта)
   - Счетчик количества генераций

5. **Кнопка генерации**
   - Фиксированная внизу экрана
   - Показывает итоговую стоимость
   - Состояние загрузки с анимацией

### Цветовая схема:
- Фон: `#0F0F10`
- Карточки: `#18181B`
- Границы: `#27272A`
- Акцент: `#00D9FF` → `#0EA5E9` (градиент)
- Текст: белый/серый градации

### Анимации:
- Framer Motion для плавных переходов
- Активные состояния кнопок: `scale-95`
- Выдвижная панель модели снизу
- Спиннер загрузки

## Технические детали

### State Management:
- `selectedModel` - выбранная модель
- `prompt` - текст промпта
- `uploadedImage` - URL загруженного изображения
- `selectedAspectRatio` - выбранное соотношение сторон
- `selectedQuality` - выбранное качество
- `generationCount` - количество генераций (1-4)

### URL параметры:
- `?model=model-id` - предустановка модели

### Suspense Boundary:
Компонент обернут в Suspense для корректной работы с `useSearchParams()`.

## Следующие шаги

### TODO:
1. [ ] Интеграция с API генерации изображений
2. [ ] Сохранение истории генераций
3. [ ] Добавление галереи результатов
4. [ ] Поддержка расширенных настроек (seed, steps)
5. [ ] Batch генерация
6. [ ] Превью в реальном времени

### Возможные улучшения:
- Добавить preset'ы промптов
- История использованных промптов
- Избранные модели
- Поделиться результатом
- Скачать в высоком разрешении

## Примеры использования

### Открыть генератор:
\`\`\`tsx
router.push('/create/image');
\`\`\`

### Открыть с конкретной моделью:
\`\`\`tsx
router.push('/create/image?model=soul');
\`\`\`

### Программная генерация:
\`\`\`tsx
const handleGenerate = async () => {
  const result = await fetch('/api/generate/image', {
    method: 'POST',
    body: JSON.stringify({
      model: selectedModel.id,
      prompt,
      image: uploadedImage,
      aspectRatio: selectedAspectRatio,
      quality: selectedQuality,
    }),
  });
  // Handle result
};
\`\`\`

## Зависимости

- Next.js 16
- React 19
- Framer Motion
- Lucide Icons
- TailwindCSS

---

Создано: 2026-01-17
Версия: 1.0.0
