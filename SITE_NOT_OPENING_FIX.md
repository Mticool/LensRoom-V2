# üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

## –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh root@104.222.177.29

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ PM2
pm2 status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
pm2 logs lensroom --lines 100

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
netstat -tulpn | grep 3002
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
cd lensroom-v2

# –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript
npm run type-check

# –ü—Ä–æ–≤–µ—Ä–∫–∞ build
npm run build

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run dev
```

### 3. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏
**–°–∏–º–ø—Ç–æ–º—ã**: Build –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, –æ—à–∏–±–∫–∏ TypeScript

**–†–µ—à–µ–Ω–∏–µ**:
```bash
cd lensroom-v2
rm -rf .next node_modules/.cache
npm run build
```

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: PM2 –Ω–µ –∑–∞–ø—É—â–µ–Ω
**–°–∏–º–ø—Ç–æ–º—ã**: `pm2 status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç stopped –∏–ª–∏ –Ω–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞

**–†–µ—à–µ–Ω–∏–µ**:
```bash
cd /opt/lensroom/lensroom-v2
pm2 restart lensroom
# –∏–ª–∏
pm2 start ecosystem.config.js
```

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
**–°–∏–º–ø—Ç–æ–º—ã**: –û—à–∏–±–∫–∞ "Port 3002 already in use"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3002
lsof -i :3002
# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 <PID>
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2
pm2 restart lensroom
```

#### –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ
**–°–∏–º–ø—Ç–æ–º—ã**: –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö PM2

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `pm2 logs lensroom --lines 100`
2. –ù–∞–π—Ç–∏ –æ—à–∏–±–∫—É
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥
4. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å: `npm run build`
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `pm2 restart lensroom`

#### –ü—Ä–æ–±–ª–µ–º–∞ 5: Nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç
**–°–∏–º–ø—Ç–æ–º—ã**: –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–æ PM2 —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx
nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx
systemctl reload nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat /etc/nginx/sites-enabled/lensroom
```

### 4. –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] PM2 –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω: `pm2 status`
- [ ] –ü–æ—Ä—Ç 3002 —Å–ª—É—à–∞–µ—Ç—Å—è: `netstat -tulpn | grep 3002`
- [ ] Build —É—Å–ø–µ—à–µ–Ω: `npm run build` –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] TypeScript –±–µ–∑ –æ—à–∏–±–æ–∫: `npm run type-check`
- [ ] Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç: `systemctl status nginx`
- [ ] –õ–æ–≥–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫: `pm2 logs lensroom`

### 5. –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/lensroom/lensroom-v2
git pull origin main
npm ci
npm run build
pm2 restart lensroom
pm2 logs lensroom --lines 50
```

### 6. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PM2**:
   ```bash
   pm2 logs lensroom --lines 200
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12):
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Console –Ω–∞ –æ—à–∏–±–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Network –Ω–∞ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   ```bash
   cd /opt/lensroom/lensroom-v2
   cat .env.local | grep -E "SUPABASE|KIE|TELEGRAM"
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞**:
   ```bash
   curl http://localhost:3002
   ```

---

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ —Å–ª–æ–º–∞—Ç—å —Å–∞–π—Ç

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏ (ImageGalleryMasonry) - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—ë—Ä—Ç–∫–∞
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ StudioWorkspaces - –≤—ã–Ω–µ—Å–µ–Ω ControlBarBottom
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GeneratorBottomSheet - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ canGenerate

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏.

---

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–∏—à–ª–∏—Ç–µ –ª–æ–≥–∏ PM2.**
