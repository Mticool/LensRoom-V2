# LensRoom V2 - –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

## ‚úÖ –°—Ç–∞—Ç—É—Å: –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

### üè† –ì–ª–∞–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è

| –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | Layout |
|------|--------|----------|--------|
| `/` | ‚úÖ 200 | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | Root layout |
| `/pricing` | ‚úÖ 200 | –¢–∞—Ä–∏—Ñ—ã –∏ —Ü–µ–Ω—ã | Root layout |

---

### üé® –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (Create)

| –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | Layout |
|------|--------|----------|--------|
| `/create` | ‚úÖ 200 | –í—ã–±–æ—Ä —Ç–∏–ø–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | Root layout |
| `/create/studio` | ‚úÖ 200 | **–°—Ç—É–¥–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–æ—Å–Ω–æ–≤–Ω–∞—è)** | Root layout |
| `/create/video` | ‚úÖ 200 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ | Root layout |
| `/create/products` | ‚úÖ 200 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ | Root layout |

**–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `create/error.tsx` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ `create/loading.tsx` - –ó–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ `create/studio/error.tsx` - –û—à–∏–±–∫–∏ —Å—Ç—É–¥–∏–∏
- ‚úÖ `create/video/error.tsx` - –û—à–∏–±–∫–∏ –≤–∏–¥–µ–æ
- ‚úÖ `create/video/loading.tsx` - –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ

---

### üìö –ö–æ–Ω—Ç–µ–Ω—Ç –∏ –æ–±—É—á–µ–Ω–∏–µ

| –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | Layout |
|------|--------|----------|--------|
| `/library` | ‚úÖ 200 | **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π** | Root layout |
| `/inspiration` | ‚úÖ 200 | –ì–∞–ª–µ—Ä–µ—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è | Root layout |
| `/prompts` | ‚úÖ 307 | –ö–æ–ª–ª–µ–∫—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ (redirect) | Root layout |
| `/academy` | ‚úÖ 200 | –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã | Root layout |
| `/video` | ‚úÖ 200 | –í–∏–¥–µ–æ-—Å–µ–∫—Ü–∏—è | Root layout |

---

### üë§ –ê–∫–∫–∞—É–Ω—Ç –∏ –ø—Ä–æ—Ñ–∏–ª—å

| –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | Layout |
|------|--------|----------|--------|
| `/profile` | ‚úÖ 200 | **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç + Settings** | Root layout |
| `/account/waitlist` | ‚úÖ 200 | –õ–∏—Å—Ç –æ–∂–∏–¥–∞–Ω–∏—è | Root layout |
| `/account/subscription` | ‚úÖ 200 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π | Root layout |

---

### üí≥ –û–ø–ª–∞—Ç–∞

| –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | Layout |
|------|--------|----------|--------|
| `/payment/success` | ‚úÖ 200 | –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ | Root layout |

---

### üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

| –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | Layout |
|------|--------|----------|--------|
| `/admin` | ‚úÖ 307 | –ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω–∫–∏ (redirect to login) | Admin layout |
| `/admin/users` | ‚úÖ - | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ | Admin layout |
| `/admin/sales` | ‚úÖ - | –ü—Ä–æ–¥–∞–∂–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ | Admin layout |
| `/admin/content` | ‚úÖ - | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º | Admin layout |
| `/admin/styles` | ‚úÖ - | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è–º–∏ | Admin layout |
| `/admin/managers` | ‚úÖ - | –ú–µ–Ω–µ–¥–∂–µ—Ä—ã | Admin layout |
| `/admin/referrals` | ‚úÖ - | –†–µ—Ñ–µ—Ä–∞–ª—ã | Admin layout |

**–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π layout:**
- ‚úÖ `admin/layout.tsx` - –û—Ç–¥–µ–ª—å–Ω—ã–π layout –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

---

### üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (dev only)

| –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| `/test-api` | ‚úÖ 200 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API |
| `/test-balance` | ‚úÖ 200 | –¢–µ—Å—Ç –±–∞–ª–∞–Ω—Å–∞ |

---

## üìê Layouts

### Root Layout (`src/app/layout.tsx`)
–ì–ª–∞–≤–Ω—ã–π layout –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –∫—Ä–æ–º–µ –∞–¥–º–∏–Ω–∫–∏

### Admin Layout (`src/app/admin/layout.tsx`)
–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π layout –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ `/admin/*`

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤ –¥–µ—Ç–∞–ª—è—Ö)

### 1. **–ì–ª–∞–≤–Ω–∞—è** `/` ‚úÖ
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ —Å–µ–∫—Ü–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ

### 2. **Pricing** `/pricing` ‚úÖ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞—Ä–∏—Ñ—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ö–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- Graceful fallback –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ payment provider

### 3. **Studio** `/create/studio` ‚úÖ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è "Photo ready ‚úÖ" / "Video ready ‚úÖ"
- –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### 4. **Library** `/library` ‚úÖ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- Polling –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
- –ü—Ä–µ–≤—å—é —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 5. **Profile** `/profile` ‚úÖ
- –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **Settings —Å toggle –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** ‚úÖ
- –†–µ—Ñ–µ—Ä–∞–ª—ã
- –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

### 6. **Admin** `/admin` ‚úÖ
- Redirect –Ω–∞ login (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- –í—Å–µ –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –º–µ—Å—Ç–µ
- –ù–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

---

## üöÄ API Routes (–ø—Ä–æ–≤–µ—Ä–µ–Ω—ã)

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
- ‚úÖ `/api/generate/photo` - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ç–æ
- ‚úÖ `/api/generate/video` - –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ
- ‚úÖ `/api/generate/products` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤

### –°—Ç–∞—Ç—É—Å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ `/api/jobs/[jobId]` - –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
- ‚úÖ `/api/generations` - –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

### –û–ø–ª–∞—Ç–∞
- ‚úÖ `/api/checkout` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ (+ graceful fallback)
- ‚úÖ `/api/webhooks/payform` - Webhook –æ–ø–ª–∞—Ç—ã
- ‚úÖ `/api/webhooks/prodamus` - Webhook Prodamus

### –ê–¥–º–∏–Ω API
- ‚úÖ `/api/admin/*` - –í—Å–µ —Ä–æ—É—Ç—ã –∞–¥–º–∏–Ω–∫–∏

### –ü—Ä–æ—á–µ–µ
- ‚úÖ `/api/health` - Health check
- ‚úÖ `/api/auth/session` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏
- ‚úÖ `/api/credits/balance` - –ë–∞–ª–∞–Ω—Å –∫—Ä–µ–¥–∏—Ç–æ–≤

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
```
‚úÖ 24 page.tsx —Ñ–∞–π–ª–∞ - –≤—Å–µ –Ω–∞–π–¥–µ–Ω—ã
‚úÖ 2 layout.tsx —Ñ–∞–π–ª–∞ - root + admin
‚úÖ 5 error/loading —Ñ–∞–π–ª–æ–≤ - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚úÖ 16 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ 7 –∞–¥–º–∏–Ω —Å—Ç—Ä–∞–Ω–∏—Ü - –Ω–∞ –º–µ—Å—Ç–µ
‚úÖ 2 —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —Ä–∞–±–æ—Ç–∞—é—Ç
```

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
```
‚úÖ 307 redirects: /prompts, /admin (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
‚úÖ 200 OK: –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
‚úÖ –ù–µ—Ç 404 –æ—à–∏–±–æ–∫
‚úÖ –ù–µ—Ç 500 –æ—à–∏–±–æ–∫
```

---

## üé® UX Flow

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—É—Ç—å:
```
/ (–ì–ª–∞–≤–Ω–∞—è) 
  ‚Üí /pricing (–ö—É–ø–∏—Ç—å ‚≠ê)
    ‚Üí /profile (–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω)
      ‚Üí /create/studio (–°–æ–∑–¥–∞—Ç—å)
        ‚Üí [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è] 
          ‚Üí üîî Notification "Photo ready ‚úÖ"
            ‚Üí /library (–†–µ–∑—É–ª—å—Ç–∞—Ç)
```

### –ê–¥–º–∏–Ω—Å–∫–∏–π –ø—É—Ç—å:
```
/admin (Login redirect)
  ‚Üí /admin/users
  ‚Üí /admin/sales
  ‚Üí /admin/content
  etc.
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü:** 24
- **–ü—É–±–ª–∏—á–Ω—ã—Ö:** 16
- **–ê–¥–º–∏–Ω:** 7
- **–¢–µ—Å—Ç–æ–≤—ã—Ö:** 2
- **API routes:** ~40+
- **Layouts:** 2
- **Error handlers:** 3
- **Loading states:** 2

---

## ‚úÖ –ò—Ç–æ–≥

**–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.**

- ‚úÖ –ù–µ—Ç —Å–ª–æ–º–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –í—Å–µ layouts –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ Error boundaries –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ Loading states –µ—Å—Ç—å –≥–¥–µ –Ω—É–∂–Ω–æ
- ‚úÖ API routes —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ê–¥–º–∏–Ω–∫–∞ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞
- ‚úÖ Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é! üöÄ**

