# ü§ù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏ - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∞

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∞

–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å** –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:

### ‚úÖ –ß—Ç–æ —Ç—ã –º–æ–∂–µ—à—å –¥–µ–ª–∞—Ç—å:

1. **–ù–∞–∑–Ω–∞—á–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º –≤—Ä—É—á–Ω—É—é** - –±–µ–∑ –∑–∞—è–≤–∫–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏** - –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç (10-70%)
3. **"–ü–æ–Ω–∏–∑–∏—Ç—å" –ø–∞—Ä—Ç–Ω—ë—Ä–∞** - –≤–µ—Ä–Ω—É—Ç—å –≤ –æ–±—ã—á–Ω—ã–µ —Ä–µ—Ñ–µ—Ä–∞–ª—ã (–∑–≤—ë–∑–¥—ã)
4. **–û–¥–æ–±—Ä–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫–∏** - –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –ø–æ–¥–∞–ª –∑–∞—è–≤–∫—É

---

## üìç –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è: `/admin/partners`

### –î–≤–µ –≤–∫–ª–∞–¥–∫–∏:

#### 1Ô∏è‚É£ **–ó–∞—è–≤–∫–∏** (Applications)
- –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä—ã: –í—Å–µ / –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏ / –û–¥–æ–±—Ä–µ–Ω–æ / –û—Ç–∫–ª–æ–Ω–µ–Ω–æ
- –ö–Ω–æ–ø–∫–∏: Approve/Reject
- –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏: –≤—ã–±–∏—Ä–∞–µ—à—å tier (classic 30% / pro 50%)

#### 2Ô∏è‚É£ **–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã** (Partners)
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–∫—É—â–∏—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –∏–º—è, User ID, tier, –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏
- –ö–Ω–æ–ø–∫–∏:
  - **"–ò–∑–º–µ–Ω–∏—Ç—å %"** - –º–µ–Ω—è–µ—à—å –ø—Ä–æ—Ü–µ–Ω—Ç (10-70%)
  - **"–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞"** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –æ–±—ã—á–Ω—É—é —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
- **"+ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤—Ä—É—á–Ω—É—é"** - –Ω–∞–∑–Ω–∞—á–∞–µ—à—å –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º

---

## üìù –ö–∞–∫ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤—Ä—É—á–Ω—É—é

### –®–∞–≥ 1: –ù–∞–π—Ç–∏ User ID
```
1. –ó–∞–π–¥–∏ –≤ /admin/users
2. –ù–∞–π–¥–∏ –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –°–∫–æ–ø–∏—Ä—É–π –µ–≥–æ User ID (UUID)
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞
```
1. –û—Ç–∫—Ä–æ–π /admin/partners ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã"
2. –ù–∞–∂–º–∏ "‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –≤—Ä—É—á–Ω—É—é"
3. –í—Å—Ç–∞–≤—å User ID
4. –í—ã–±–µ—Ä–∏ –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏ (10-70%):
   - 10-29% - –Ω–∏–∑–∫–∏–π
   - 30% - classic (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
   - 50% - pro (–∫—Ä—É–ø–Ω—ã–µ –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä—ã)
   - 51-70% - VIP –ø–∞—Ä—Ç–Ω—ë—Ä—ã
5. –ù–∞–∂–º–∏ "–î–æ–±–∞–≤–∏—Ç—å"
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è —Å "–∑–≤—ë–∑–¥—ã –∑–∞ signup/first_generation" –Ω–∞ "% –æ—Ç –ø—Ä–æ–¥–∞–∂ –≤ —Ä—É–±–ª—è—Ö".

---

## üîÑ –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞:

```
1. –û—Ç–∫—Ä–æ–π /admin/partners ‚Üí "–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã"
2. –ù–∞–π–¥–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ —Å–ø–∏—Å–∫–µ
3. –ù–∞–∂–º–∏ "–ò–∑–º–µ–Ω–∏—Ç—å %"
4. –í–≤–µ–¥–∏ –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç (10-70)
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏
```

**Tier –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è:**
- < 50% ‚Üí classic
- ‚â• 50% ‚Üí pro

---

## üîª –ö–∞–∫ "–ø–æ–Ω–∏–∑–∏—Ç—å" –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ–±—ã—á–Ω–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞

```
1. –û—Ç–∫—Ä–æ–π /admin/partners ‚Üí "–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã"
2. –ù–∞–π–¥–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞
3. –ù–∞–∂–º–∏ "–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞"
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:
- ‚ùå –ü–∞—Ä—Ç–Ω—ë—Ä —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ `affiliate_tiers`
- ‚úÖ –ï–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è (–≤ `referral_attributions`)
- ‚úÖ –û–Ω —Å–Ω–æ–≤–∞ –Ω–∞—á–Ω—ë—Ç –ø–æ–ª—É—á–∞—Ç—å **–∑–≤—ë–∑–¥—ã** –∑–∞ signup/first_generation
- ‚ùå –ë–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç % –æ—Ç –ø—Ä–æ–¥–∞–∂

---

## üí∞ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—ã–ø–ª–∞—Ç—ã –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ:
- –ö–æ–≥–¥–∞ —Ä–µ—Ñ–µ—Ä–∞–ª –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –ø–æ–∫—É–ø–∞–µ—Ç —Ç–∞—Ä–∏—Ñ —á–µ—Ä–µ–∑ Robokassa
- –ö–æ–º–∏—Å—Å–∏—è —Å—Ä–∞–∑—É –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `affiliate_earnings` (status: `pending`)
- –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç —ç—Ç–æ –≤ `/admin/affiliate-earnings`

### –†—É—á–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞:
```
1. –û—Ç–∫—Ä–æ–π /admin/affiliate-earnings
2. –ù–∞–π–¥–∏ –∫–æ–º–∏—Å—Å–∏—é —Å–æ status "Pending"
3. –ù–∞–∂–º–∏ "Mark as Paid"
4. –î–æ–±–∞–≤—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏
```

---

## üé≠ –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É "–æ–±—ã—á–Ω—ã–º —Ä–µ—Ñ–µ—Ä–∞–ª–æ–º" –∏ "–ø–∞—Ä—Ç–Ω—ë—Ä–æ–º"

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û–±—ã—á–Ω—ã–π —Ä–µ—Ñ–µ—Ä–∞–ª | –ü–∞—Ä—Ç–Ω—ë—Ä (affiliate) |
|----------|-----------------|---------------------|
| **–ù–∞–≥—Ä–∞–¥–∞ –∑–∞ signup** | ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –∑–≤—ë–∑–¥—ã | ‚ùå –ù–µ –ø–æ–ª—É—á–∞–µ—Ç |
| **–ù–∞–≥—Ä–∞–¥–∞ –∑–∞ first_generation** | ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –∑–≤—ë–∑–¥—ã | ‚ùå –ù–µ –ø–æ–ª—É—á–∞–µ—Ç |
| **% –æ—Ç –ø—Ä–æ–¥–∞–∂** | ‚ùå –ù–µ –ø–æ–ª—É—á–∞–µ—Ç | ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –≤ —Ä—É–±–ª—è—Ö |
| **–ü–æ—Ä–æ–≥–æ–≤–æ–µ —É—Å–ª–æ–≤–∏–µ** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞ |
| **–¢–∞–±–ª–∏—Ü–∞ –≤ –ë–î** | `referral_attributions` | `affiliate_tiers` |

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –°–ø–æ—Å–æ–± 1: –ü–æ User ID
```sql
-- –í Supabase SQL Editor:
SELECT * FROM affiliate_tiers WHERE user_id = 'USER_ID_HERE';
```

- –ï—Å–ª–∏ **–µ—Å—Ç—å –∑–∞–ø–∏—Å—å** ‚Üí –ø–∞—Ä—Ç–Ω—ë—Ä (–ø–æ–ª—É—á–∞–µ—Ç % –æ—Ç –ø—Ä–æ–¥–∞–∂)
- –ï—Å–ª–∏ **–Ω–µ—Ç –∑–∞–ø–∏—Å–∏** ‚Üí –æ–±—ã—á–Ω—ã–π —Ä–µ—Ñ–µ—Ä–∞–ª (–ø–æ–ª—É—á–∞–µ—Ç –∑–≤—ë–∑–¥—ã)

### –°–ø–æ—Å–æ–± 2: –í –∞–¥–º–∏–Ω–∫–µ
```
/admin/partners ‚Üí "–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã"
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ ‚Üí –æ–Ω –æ–±—ã—á–Ω—ã–π —Ä–µ—Ñ–µ—Ä–∞–ª
```

---

## ‚öôÔ∏è API Endpoints (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/admin/partners/tiers` | GET | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ |
| `/api/admin/partners/manual` | POST | –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤—Ä—É—á–Ω—É—é |
| `/api/admin/partners/update` | POST | –ò–∑–º–µ–Ω–∏—Ç—å % –ø–∞—Ä—Ç–Ω—ë—Ä–∞ |
| `/api/admin/partners/remove` | POST | –£–¥–∞–ª–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ |

### –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤—Ä—É—á–Ω—É—é
```bash
curl -X POST /api/admin/partners/manual \
  -H "Content-Type: application/json" \
  -d '{
    "userId": "UUID_HERE",
    "percent": 40,
    "tier": "classic"
  }'
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ö—Ä—É–ø–Ω—ã–π –±–ª–æ–≥–µ—Ä (VIP)
```
1. –ë–ª–æ–≥–µ—Ä –ø–∏—à–µ—Ç —Ç–µ–±–µ: "–•–æ—á—É —Å—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º, 100K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤"
2. –¢—ã –ø—Ä–æ–≤–µ—Ä—è–µ—à—å –µ–≥–æ –∫–∞–Ω–∞–ª
3. –ó–∞—Ö–æ–¥–∏—à—å –≤ /admin/partners ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤—Ä—É—á–Ω—É—é"
4. –í–≤–æ–¥–∏—à—å –µ–≥–æ User ID
5. –°—Ç–∞–≤–∏—à—å 60% –∫–æ–º–∏—Å—Å–∏–∏ (VIP —É—Å–ª–æ–≤–∏—è)
6. –°–æ—Ö—Ä–∞–Ω—è–µ—à—å
7. ‚úÖ –¢–µ–ø–µ—Ä—å –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç 60% –æ—Ç –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂ –ø–æ –µ–≥–æ —Å—Å—ã–ª–∫–µ
```

### –ü—Ä–∏–º–µ—Ä 2: –ú–∏–∫—Ä–æ–∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä (Classic)
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∞–ª –∑–∞—è–≤–∫—É —á–µ—Ä–µ–∑ —Å–∞–π—Ç
2. –¢—ã –≤–∏–¥–∏—à—å –µ—ë –≤ /admin/partners ‚Üí "–ó–∞—è–≤–∫–∏"
3. –ü—Ä–æ–≤–µ—Ä—è–µ—à—å –∫–∞–Ω–∞–ª (5K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤)
4. –ù–∞–∂–∏–º–∞–µ—à—å "Approve"
5. –í—ã–±–∏—Ä–∞–µ—à—å Classic 30%
6. ‚úÖ –ü–∞—Ä—Ç–Ω—ë—Ä –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–Ω–∏–∑–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞
```
1. –ü–∞—Ä—Ç–Ω—ë—Ä –Ω–∞—Ä—É—à–∏–ª —É—Å–ª–æ–≤–∏—è –∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏–ª –≤—ã–π—Ç–∏
2. –ó–∞—Ö–æ–¥–∏—à—å –≤ /admin/partners ‚Üí "–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã"
3. –ù–∞—Ö–æ–¥–∏—à—å –µ–≥–æ
4. –ù–∞–∂–∏–º–∞–µ—à—å "–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞"
5. ‚úÖ –û–Ω —Å–Ω–æ–≤–∞ –æ–±—ã—á–Ω—ã–π —Ä–µ—Ñ–µ—Ä–∞–ª (–ø–æ–ª—É—á–∞–µ—Ç –∑–≤—ë–∑–¥—ã)
```

---

## üéØ –ò—Ç–æ–≥

**–¢–µ–ø–µ—Ä—å —Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:**
- ‚úÖ –ú–æ–∂–µ—à—å –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º
- ‚úÖ –ú–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç (10-70%)
- ‚úÖ –ú–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ –æ–±—ã—á–Ω—ã–µ —Ä–µ—Ñ–µ—Ä–∞–ª—ã
- ‚úÖ –û–¥–æ–±—Ä—è–µ—à—å/–æ—Ç–∫–ª–æ–Ω—è–µ—à—å –∑–∞—è–≤–∫–∏
- ‚úÖ –í–∏–¥–∏—à—å –≤—Å–µ –∫–æ–º–∏—Å—Å–∏–∏ –∏ –≤—ã–ø–ª–∞—Ç—ã –≤ `/admin/affiliate-earnings`

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** Dec 17, 2025

